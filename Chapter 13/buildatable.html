<!doctype html>
<script src="eloquentjavascript.net/code/mountains.js"></script>
<script src="eloquentjavascript.net/code/chapter/13_dom.js"></script>

<style>
  /* Defines a cleaner look for tables */
  table  { border-collapse: collapse; }
  td, th { border: 1px solid black; padding: 3px 8px; }
  th     { text-align: left; }
</style>

<body>
<script>

  function buildTable(data) {
    // Your code here.
    
    var headings = Object.keys(data[0]);
    
    var table = document.createElement('table');
    var headRow = document.createElement('tr');
    
    headings.forEach(function(heading) {
      var headingCell = document.createElement('th');
      headingCell.textContent = heading;
      headRow.appendChild(headingCell);    
    });
    
    table.appendChild(headRow);
    
    data.forEach(function(listing) {
      var row = document.createElement('tr');
      headings.forEach(function(heading) {
        var listingCell = document.createElement('td');
        listingCell.textContent = listing[heading];
        if (typeof listing[heading] == 'number') {
          listingCell.style.textAlign = 'right';
        }
        row.appendChild(listingCell);
      });  
      table.appendChild(row);
    });
    
    return table;
  }

  document.body.appendChild(buildTable(MOUNTAINS));
</script>
</body>
